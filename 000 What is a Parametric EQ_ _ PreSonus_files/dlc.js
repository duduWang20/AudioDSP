presonus_mws.dlc={init:function(){presonus_mws.dlc.initViewOtherDownloadLinks();$("select[name=operating_system]").change(presonus_mws.dlc.selectOperatingSystem);presonus_mws.dlc.selectOperatingSystem();presonus_mws.dlc.initFileLinkHover();const a=$(".dlc");a.on("click",".dlc-file__switch",function(e){e.preventDefault();const d=$(this);const c=d.parent(".dlc-file");const b=c.siblings(".dlc-file");c.hide();b.fadeIn()});a.on("click",".dlc-show-legacy",function(b){b.preventDefault();const c=$(".dlc-software--all");c.slideToggle(function(){if(c.is(":visible")){presonus_mws.dlc.adjustClearfix();$("html,body").animate({scrollTop:c.offset().top-200},500,function(){})}})});$(".dlc-button").on("click",function(d,c){c=c||{};if(!c.passThrough){d.preventDefault();const e=$(this).parents(".dlc-file");const b=$(".dlc-detected-os").data("dlc-detected-os");if(!e.hasClass("dlc-file--"+b)){$(".dlc__modal--non-detected").dialog({resizable:false,zIndex:3999,closeOnEscape:true,autoOpen:true,height:"auto",width:350,maxWidth:250,modal:true,buttons:{"Continue Downloading":function(){$(d.currentTarget).trigger("click",{passThrough:true})},Cancel:function(){$(this).dialog("close")}}})}else{$(d.currentTarget).trigger("click",{passThrough:true})}}})},selectOperatingSystem:function(){const b=$("select[name=operating_system]").val();$(".dlc-entry").removeClass("dlc-entry--valid").hide();$(".dlc-file").hide();const a=".dlc-file--"+b;$(a).show();$(a).parent(".dlc-entry").addClass("dlc-entry--valid").fadeIn();const e=$("select[name=operating_system] option:selected").text();const f=["universal-control","capture","installers"];var l;for(l in f){if(f.hasOwnProperty(l)){const i=".dlc-"+f[l]+"--legacy";const h=$(".dlc-"+f[l]+"--primary");const c=$(i+" .dlc-entry--valid").first().html();const j=$(i+" .dlc-entry--valid");const k=f[l]==="installers"&&$(".dlc-universal-control--primary .dlc-file").length;if(j.length&&!(k)){if(c){h.html("").append(c).show();$(".dlc-show-legacy__os").text(" for "+e);$(".dlc-show-legacy").show()}}else{h.hide();h.html("").append("<h3>"+$(i).data("type-title")+"</h3><h4>No "+$(i).data("type-title")+" downloads available for "+e+'.</h4><a href="./tech-specs">View System Requirements for '+$(".product-nav-title h1:visible").text()+"</a>");if($(i+" .dlc-entry").length&&!k){h.show()}}}}if(!$(".dlc-software--primary .dlc-file").length){$(".dlc-show-legacy").hide()}const g=$(".dlc-software--primary:visible");const d=$(".dlc-software--selector");if(g.length>1){d.removeClass("col-sm-5").addClass("col-sm-4");g.removeClass("col-sm-7").addClass("col-sm-4")}else{if(g.length===1){d.removeClass("col-sm-4").addClass("col-sm-5");g.removeClass("col-sm-4").addClass("col-sm-7")}}presonus_mws.dlc.adjustClearfix()},initFileLinkHover:function(){const a=$(".dlc-language-list a");a.on("mouseover",function(){const d=$(this);const e=$(this).parents(".product-download").find(".dlc-file__details");const b=$(this).parents(".product-download").find("h4");var c=d.data("format");if(d.data("filesize")!=="0"){c=d.data("filesize")+" "+c}e.text(c).show();b.text(d.data("localized-title"))})},initViewOtherDownloadLinks:function(){$(".dlc-entry").each(function(){var a=$(".dlc-file",$(this));var b=$(".dlc-file",$(this));a.each(function(){var c=$(this);var d=c.data("type-title");b.each(function(){var e=$(this);var f=e.data("type-title");if(d!==f){$(".dlc-file__switch",c).text("Show "+f+" downloads")}})})})},adjustClearfix:function(){$(".dlc-software--all").find(".clearfix").remove();$(".dlc-legacy").each(function(){var a=0;$(this).find(".dlc-entry:visible").each(function(){a++;if(a%2===0){$(this).after('<div class="clearfix visible-sm-block"></div>')}if(a%3===0){$(this).after('<div class="clearfix visible-md-block visible-lg-block"></div>')}})})}};$(document).ready(function(){presonus_mws.dlc.init()});